{% extends 'base.html' %} 
{% load static %} 
{% load custom_filters %}

{% block content %}
<div class="container my-5">
	<div class="mt-3">
		<div class="row gutters-sm">
			<div class="col-md-4 mb-3">
				<div class="card">
					<div class="card-body">
						<div class="d-flex flex-column align-items-center text-center">
							{% if user_profile.avatar %}
							<img
								src="{{ user_profile.avatar.url }}"
								alt="{{ user.username }}'s Avatar"
								class="rounded-circle profile-avatar"
							/>
							{% else %}
							<img
								src="{% static 'images/avatar.jpg' %}"
								alt="Default Avatar"
								class="rounded-circle"
								width="150"
							/>
							{% endif %}
							<div class="mt-3">
								<h4>{{ user_profile.full_name }}</h4>
								<p class="text-secondary mb-1">{{ user_profile.bio }}</p>
								<p class="text-muted font-size-sm">
									{{ user_profile.address }}
								</p>
							</div>
						</div>
					</div>
				</div>
				<div class="card mt-3">
					<ul class="list-group list-group-flush">
						<li
							class="list-group-item d-flex justify-content-between align-items-center flex-wrap"
						>
							<h6 class="mb-0 d-flex align-items-center">
								<svg
									xmlns="http://www.w3.org/2000/svg"
									x="0px"
									y="0px"
									width="24"
									height="24"
									viewBox="0 0 48 48"
								>
									<path
										fill="#03A9F4"
										d="M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429"
									></path></svg
								>Twitter
							</h6>
							<a
								href="{{ user_profile.twitter }}"
								class="text-secondary"
								target="_blank"
								rel="noopener noreferrer"
							>
								...{{ user_profile.twitter|slice:"-15:" }}
							</a>
						</li>
						<li
							class="list-group-item d-flex justify-content-between align-items-center flex-wrap"
						>
							<h6 class="mb-0 d-flex align-items-center">
								<svg
									xmlns="http://www.w3.org/2000/svg"
									x="0px"
									y="0px"
									width="24"
									height="24"
									viewBox="0 0 64 64"
								>
									<path
										d="M32 6C17.641 6 6 17.641 6 32c0 12.277 8.512 22.56 19.955 25.286-.592-.141-1.179-.299-1.755-.479V50.85c0 0-.975.325-2.275.325-3.637 0-5.148-3.245-5.525-4.875-.229-.993-.827-1.934-1.469-2.509-.767-.684-1.126-.686-1.131-.92-.01-.491.658-.471.975-.471 1.625 0 2.857 1.729 3.429 2.623 1.417 2.207 2.938 2.577 3.721 2.577.975 0 1.817-.146 2.397-.426.268-1.888 1.108-3.57 2.478-4.774-6.097-1.219-10.4-4.716-10.4-10.4 0-2.928 1.175-5.619 3.133-7.792C19.333 23.641 19 22.494 19 20.625c0-1.235.086-2.751.65-4.225 0 0 3.708.026 7.205 3.338C28.469 19.268 30.196 19 32 19s3.531.268 5.145.738c3.497-3.312 7.205-3.338 7.205-3.338.567 1.474.65 2.99.65 4.225 0 2.015-.268 3.19-.432 3.697C46.466 26.475 47.6 29.124 47.6 32c0 5.684-4.303 9.181-10.4 10.4 1.628 1.43 2.6 3.513 2.6 5.85v8.557c-.576.181-1.162.338-1.755.479C49.488 54.56 58 44.277 58 32 58 17.641 46.359 6 32 6zM33.813 57.93C33.214 57.972 32.61 58 32 58 32.61 58 33.213 57.971 33.813 57.93zM37.786 57.346c-1.164.265-2.357.451-3.575.554C35.429 57.797 36.622 57.61 37.786 57.346zM32 58c-.61 0-1.214-.028-1.813-.07C30.787 57.971 31.39 58 32 58zM29.788 57.9c-1.217-.103-2.411-.289-3.574-.554C27.378 57.61 28.571 57.797 29.788 57.9z"
									></path></svg
								>Github
							</h6>
							<a
								href="{{ user_profile.github }}"
								class="text-secondary"
								target="_blank"
								rel="noopener noreferrer"
							>
								...{{ user_profile.github|slice:"-15:" }}
							</a>
						</li>
						<li
							class="list-group-item d-flex justify-content-between align-items-center flex-wrap"
						>
							<h6 class="mb-0 d-flex align-items-center">
								<svg
									xmlns="http://www.w3.org/2000/svg"
									x="0px"
									y="0px"
									width="24"
									height="24"
									viewBox="0 0 48 48"
								>
									<path
										fill="#0288D1"
										d="M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5V37z"
									></path>
									<path
										fill="#FFF"
										d="M12 19H17V36H12zM14.485 17h-.028C12.965 17 12 15.888 12 14.499 12 13.08 12.995 12 14.514 12c1.521 0 2.458 1.08 2.486 2.499C17 15.887 16.035 17 14.485 17zM36 36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698-1.501 0-2.313 1.012-2.707 1.99C24.957 25.543 25 26.511 25 27v9h-5V19h5v2.616C25.721 20.5 26.85 19 29.738 19c3.578 0 6.261 2.25 6.261 7.274L36 36 36 36z"
									></path>
								</svg>
								LinkedIn
							</h6>
							<span class="text-secondary">
								
								<a
									href="{{ user_profile.linkedin }}"
									class="text-secondary"
									target="_blank"
									rel="noopener noreferrer"
								>
									...{{ user_profile.linkedin|slice:"-15:" }}
								</a>
								
							</span>
						</li>
					</ul>
				</div>
			</div>
			<div class="col-md-8">
				<div class="card mb-3">
					<div class="card-body">
						<div class="row">
							<div class="col-sm-3">
								<h6 class="mb-0">Full Name</h6>
							</div>
							<div class="col-sm-9 text-secondary">
								{{ user_profile.full_name }}
							</div>
						</div>
						<hr />
						<div class="row">
							<div class="col-sm-3">
								<h6 class="mb-0">Email</h6>
							</div>
							<div class="col-sm-9 text-secondary">
								{{ user_profile.user.email }}
							</div>
						</div>
						<hr />
						<div class="row">
							<div class="col-sm-3">
								<h6 class="mb-0">Phone</h6>
							</div>
							<div class="col-sm-9 text-secondary">
								{{ user_profile.phone }}
							</div>
						</div>
						<hr />
						<div class="row">
							<div class="col-sm-3">
								<h6 class="mb-0">Mobile</h6>
							</div>
							<div class="col-sm-9 text-secondary">
								{{ user_profile.mobile }}
							</div>
						</div>
						<hr />
						<div class="row">
							<div class="col-sm-3">
								<h6 class="mb-0">Address</h6>
							</div>
							<div class="col-sm-9 text-secondary">
								{{ user_profile.address }}
							</div>
						</div>
						<hr />
						<div class="row">
							<div class="col-sm-12">
								<a
									class="btn btn-info"
									target="__blank"
									href="{% url 'users:profile_update' %}"
									>Edit</a
								>
							</div>
						</div>
					</div>
				</div>

				<div class="row gutters-sm">
					<div class="col-sm-6 mb-3">
						<div class="card h-100">
							<div class="card-body">
								<h6 class="d-flex align-items-center mb-3">
									<i class="material-icons text-info mr-2">learning</i>Progress
								</h6>
								{% for progress in tech_progress %}
                    <small>{{ progress.technology.name }}</small>
                    <div class="progress mb-3" style="height: 5px">
                        <div class="progress-bar bg-primary" role="progressbar" style="width: {{ progress.progress_percentage }}%" 
                             aria-valuenow="{{ progress.progress_percentage }}" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                {% empty %}
                    <small>No technology progress recorded.</small>
                {% endfor %}

							
						</div>
						</div>
					</div>
					<div class="col-sm-6 mb-3">
						<div class="card h-100">
								<div class="card-body">
										<h6 class="d-flex align-items-center mb-3">
												<i class="material-icons text-info mr-2">badge</i>Badges
										</h6>
										<div class="row">
												<div class="col-3 text-center">
														<img src="{% static 'images/badge1.png' %}" alt="Badge 1" class="img-fluid">
												</div>
												<div class="col-3 text-center">
														<img src="{% static 'images/badge2.png' %}" alt="Badge 2" class="img-fluid">
												</div>
												<div class="col-3 text-center">
														<img src="{% static 'images/badge3.png' %}" alt="Badge 3" class="img-fluid">
												</div>
												<div class="col-3 text-center">
														<img src="{% static 'images/badge4.png' %}" alt="Badge 4" class="img-fluid">
												</div>
										</div>
								</div>
						</div>
				</div>
				</div>
			</div>
		</div>
	</div>
</div>

{% endblock %}
